<div class="container" style="min-height:100vh;">
  <div class="row">
    <div class="col-3 left-frame">
      <div class="w-100">
        <h5>Search</h5>
        <div>
          <%= form_tag universities_programs_path, method: :get do %>
          <%= text_field_tag :query,
          params[:query], :class => "home-search-input w-100 mb-2", placeholder: "Program Name"%>
          <%= submit_tag "Search", class: "btn btn-block primary-btn " %>
          <% end %>
        </div>
      </div>

      <div class="w-100">
        <h6 class=>Most searched programs:</h6>
        <label class="tag-label"><a href= "/universities_programs?query=medicine"  >Medicine</a></label>
        <label class="tag-label"><a href= "/universities_programs?query=engineering"  >Engineering</a></label>
        <label class="tag-label"><a href= "/universities_programs?query=archeology" >Archeology</a></label>
        <label class="tag-label"><a href= "/universities_programs?query=product+design" >Product Design</a></label>
        <label class="tag-label"><a href= "/universities_programs?query=literature"  >Literature</a></label>
        <label class="tag-label"><a href= "/universities_programs?query=pteaching"  >Teaching</a></label>
        <label class="tag-label"><a href= "/universities_programs?query=architecture"  >Architecture</a></label>
        <label class="tag-label"><a href= "/universities_programs?query=economics" >Economics</a></label>
      </div>
    </div>

    <div class="col-9 pl-3 mb-5 pr-0 ">
      <div class="col-12" style="background-color: #F3F4FF; border-radius: 6px; padding-bottom: 32px;">
        <div class="row mx-2">
          <h5 id=num_results class= "mt-2"></h5>
        </div>
        <div class="row mx-2 mb-0">
        </div>
        <div id=all_programs class="col-12 pl-3 pr-3 pt-0" >
          <% @universities_programs.each do |program|%>

          <%= link_to "universities_programs/#{program.id}" do %>
          <div class="card-product mt-3 col-12 pl-0 d-flex flex-row text-center transition1 grow" style="border-radius: 4px" >
            <div class="logo">
              <%= image_tag(program.picture, class:"ml-3", style: "width: 150px;height:120px;object-fit:contain;") %>
            </div>
            <div class="col-7 text-left " style="line-height: 150%;">
              <h3 style="display:inline"><%= program.university.name %></h3>
              <br>
              <br>
              <label class="tag-label"><%= program.program.name%></label>
              <h3 id="degree" style="font-size: 14px;"><%=program.degree%></h3>
            </div>
          </div>
          <%end%>
          <%end%>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
  var results = document.getElementById("num_results");
  var count = document.getElementById("all_programs").childElementCount;
  insertion = ""
  if (count === 1){
    insertion = `${count} result found`
  } else {
    insertion = `${count} results found`
  }
  results.insertAdjacentHTML("afterbegin", insertion)


</script>


